"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("@sigureya/rpgtypes");function Se(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const a=Se(i),u=()=>[0,0,0,0,0,0,0,0],_e=e=>({id:0,name:"",nickname:"",profile:"",note:"",classId:0,initialLevel:1,maxLevel:99,characterIndex:0,characterName:"",faceIndex:0,faceName:"",battlerName:"",traits:[],equips:[],...e}),Ne=e=>({battlerHue:0,id:0,name:"",note:"",battlerName:"",traits:[],params:u(),exp:0,gold:0,dropItems:[],actions:[],...e}),Ie=e=>({price:0,id:0,name:"",note:"",iconIndex:0,description:"",etypeId:0,params:u(),traits:[],...e}),fe=e=>({price:0,id:0,name:"",note:"",iconIndex:0,description:"",etypeId:0,wtypeId:0,params:u(),traits:[],damage:h(),...e}),Me=e=>({id:0,name:"",note:"",traits:[],learnings:[],params:u(),expParams:[],...e}),h=e=>({type:0,elementId:0,formula:"0",variance:20,critical:!1,...e}),Oe=e=>({id:0,name:"",iconIndex:0,description:"",note:"",price:0,consumable:!1,scope:0,occasion:0,speed:0,successRate:100,repeats:1,tpGain:0,hitType:0,animationId:0,damage:h(),effects:[],...e}),ve=e=>({animationId:0,damage:h(),description:"",hitType:0,iconIndex:0,id:0,message1:"",message2:"",mpCost:0,name:"",note:"",occasion:0,repeats:1,requiredWtypeId1:0,requiredWtypeId2:0,scope:0,speed:0,stypeId:0,successRate:100,tpCost:0,tpGain:0,effects:[],messageType:0,...e}),Re=e=>({id:0,name:"",iconIndex:0,restriction:0,priority:50,motion:0,overlay:0,removeAtBattleEnd:!1,removeByRestriction:!1,autoRemovalTiming:0,minTurns:1,maxTurns:1,removeByDamage:!1,chanceByDamage:100,removeByWalking:!1,stepsToRemove:100,message1:"",message2:"",message3:"",message4:"",traits:[],note:"",...e}),Ge=e=>({autoplayBgm:!0,autoplayBgs:!1,battleback1Name:"",battleback2Name:"",data:[],disableDashing:!1,displayName:"",encounterList:[],events:[],height:0,note:"",width:0,x:0,y:0,parallaxName:"",parallaxLoopX:!1,parallaxLoopY:!1,parallaxShow:!1,parallaxSx:0,parallaxSy:0,...e}),He=e=>({id:0,name:"",note:"",x:0,y:0,pages:[V()],...e}),D=e=>({actorId:0,actorValid:!1,itemId:0,itemValid:!1,selfSwitchCh:"",selfSwitchValid:!1,switch1Id:0,switch1Valid:!1,switch2Id:0,switch2Valid:!1,variableId:0,variableValid:!1,variableValue:0,...e}),k=e=>({characterIndex:0,characterName:"",direction:6,pattern:0,tileId:0,...e}),V=e=>({conditions:D(),image:k(),moveRoute:{list:[],repeat:!1,wait:!1,skippable:!1},directionFix:!1,moveFrequency:0,list:[],...e}),c=(e={})=>({name:e.name??"",volume:e.volume??90,pitch:e.pitch??100,pan:e.pan??0}),Le=(e,t,n=0)=>({code:e,parameters:[c({name:t})],indent:n}),Be=(e={})=>({local:e.local??"",gameTitle:e.gameTitle??"",currencyUnit:e.currencyUnit??"",title1Name:e.title1Name??"",terms:e.terms??W(),title2Name:e.title2Name??"",optAutosave:e.optAutosave??!1,attackMotions:e.attackMotions??[],startMapId:e.startMapId??0,startX:e.startX??0,startY:e.startY??0,switches:e.switches??[],windowTone:e.windowTone??[0,0,0,0],editMapId:e.editMapId??0,testTroopId:e.testTroopId??0,testBattlers:e.testBattlers??[],versionId:e.versionId??0,advanced:e.advanced??U(),armorTypes:e.armorTypes??[],elements:e.elements??[],variables:e.variables??[],equipTypes:e.equipTypes??[],sounds:e.sounds??y(),titleBgm:e.titleBgm??c(),gameoverMe:e.gameoverMe??c(),battleBgm:e.battleBgm??c(),defeatMe:e.defeatMe??c(),victoryMe:e.victoryMe??c(),battleback1Name:e.battleback1Name??"",battleback2Name:e.battleback2Name??"",battlerName:e.battlerName??"",weaponTypes:e.weaponTypes??[],skillTypes:e.skillTypes??[],optDisplayTp:e.optDisplayTp??!1,optDrawTitle:e.optDrawTitle??!1,optExtraExp:e.optExtraExp??!1,optFloorDeath:e.optFloorDeath??!1,optFollowers:e.optFollowers??!1,optKeyItemsNumber:e.optKeyItemsNumber??!1,optSideView:e.optSideView??!1,optSlipDeath:e.optSlipDeath??!1,optTransparent:e.optTransparent??!1,boat:e.boat??E(),ship:e.ship??E(),airship:e.airship??E(),tileSize:e.tileSize??0}),W=(e={})=>({messages:x(e.messages??{}),commands:z(e.commands??{}),params:Y(e.params??{}),basic:F(e.basic??{})}),F=(e={})=>[e.level??"",e.levelA??"",e.hp??"",e.hpA??"",e.mp??"",e.mpA??"",e.tp??"",e.tpA??"",e.experience??"",e.exp??""],Y=(e={})=>[e.mhp??"",e.mmp??"",e.atk??"",e.def??"",e.mat??"",e.mdf??"",e.agi??"",e.luk??"",e.hit??"",e.eva??""],z=(e={})=>[e.fight??"",e.escape??"",e.attack??"",e.guard??"",e.item??"",e.skill??"",e.equip??"",e.status??"",e.formation??"",e.save??"",e.gameEnd??"",e.options??"",e.weapon??"",e.armor??"",e.keyItem??"",e.equip2??"",e.optimize??"",e.clear??"",e.newGame??"",e.continue_??"",e.notUsed20??"",e.toTitle??"",e.cancel??"",e.notUsed23??"",e.buy??"",e.sell??""],x=(e={})=>({alwaysDash:e.alwaysDash??"",commandRemember:e.commandRemember??"",touchUI:e.touchUI??"",bgmVolume:e.bgmVolume??"",bgsVolume:e.bgsVolume??"",meVolume:e.meVolume??"",seVolume:e.seVolume??"",possession:e.possession??"",expTotal:e.expTotal??"",expNext:e.expNext??"",saveMessage:e.saveMessage??"",loadMessage:e.loadMessage??"",file:e.file??"",autosave:e.autosave??"",partyName:e.partyName??"",emerge:e.emerge??"",preemptive:e.preemptive??"",surprise:e.surprise??"",escapeStart:e.escapeStart??"",escapeFailure:e.escapeFailure??"",victory:e.victory??"",defeat:e.defeat??"",obtainExp:e.obtainExp??"",obtainGold:e.obtainGold??"",obtainItem:e.obtainItem??"",levelUp:e.levelUp??"",obtainSkill:e.obtainSkill??"",useItem:e.useItem??"",criticalToEnemy:e.criticalToEnemy??"",criticalToActor:e.criticalToActor??"",actorDamage:e.actorDamage??"",actorRecovery:e.actorRecovery??"",actorGain:e.actorGain??"",actorLoss:e.actorLoss??"",actorDrain:e.actorDrain??"",actorNoDamage:e.actorNoDamage??"",actorNoHit:e.actorNoHit??"",enemyDamage:e.enemyDamage??"",enemyRecovery:e.enemyRecovery??"",enemyGain:e.enemyGain??"",enemyLoss:e.enemyLoss??"",enemyDrain:e.enemyDrain??"",enemyNoDamage:e.enemyNoDamage??"",enemyNoHit:e.enemyNoHit??"",evasion:e.evasion??"",magicEvasion:e.magicEvasion??"",magicReflection:e.magicReflection??"",counterAttack:e.counterAttack??"",substitute:e.substitute??"",buffAdd:e.buffAdd??"",debuffAdd:e.debuffAdd??"",buffRemove:e.buffRemove??"",actionFailure:e.actionFailure??""}),U=(e={})=>({gameId:e.gameId??0,screenWidth:e.screenWidth??0,screenHeight:e.screenHeight??0,uiAreaWidth:e.uiAreaWidth??0,uiAreaHeight:e.uiAreaHeight??0,windowOpacity:e.windowOpacity??0,screenScale:e.screenScale??0,numberFontFilename:e.numberFontFilename??"",mainFontFilename:e.mainFontFilename??"",fallbackFonts:e.fallbackFonts??"",fontSize:e.fontSize??0}),E=(e={})=>({bgm:e.bgm??c(),characterIndex:e.characterIndex??0,characterName:e.characterName??"",startMapId:e.startMapId??0,startX:e.startX??0,startY:e.startY??0}),y=(e={})=>[e.cursor??c(),e.ok??c(),e.cancel??c(),e.buzzer??c(),e.equip??c(),e.save??c(),e.load??c(),e.battleStart??c(),e.escape??c(),e.enemyAttack??c(),e.enemyDamage??c(),e.enemyCollapse??c(),e.bossCollapse1??c(),e.bossCollapse2??c(),e.actorDamage??c(),e.actorCollapse??c(),e.playRecovery??c(),e.playMiss??c(),e.playEvasion??c(),e.playMagicEvasion??c(),e.playReflection??c(),e.shop??c(),e.useItem??c(),e.useSkill??c()],p=(e,t)=>t?e===t.code:!1,X="MessageHeader invalid command",Pe="Script invalid command",j="Invalid Head",C=e=>typeof e[0]=="string"&&e.length===1,we=(e,t)=>t?e===t.code&&C(t.parameters):!1,d=(e,t,n)=>{const r=[];for(let o=n;o<t.length;o++){const m=t[o];if(p(e,m)&&C(m.parameters))r.push({code:e,indent:m.indent,parameters:[m.parameters[0]]});else break}return r},T=(e,t,n)=>{const r=e[t];if(r&&p(n,r)&&C(r.parameters))return{code:n,indent:r.indent,parameters:[r.parameters[0]]};throw new Error(j,{cause:r})},q=(e,t)=>({head:T(e,t,i.COMMENT),bodys:d(i.COMMENT_BODY,e,t+1)}),K=(e,t)=>({head:T(e,t,i.SCRIPT_EVAL),bodys:d(i.SCRIPT_EVAL_BODY,e,t+1)}),$=(e,t)=>{const n=e[t];if(n&&J(n))return n;throw new Error(X,{cause:n})},J=e=>!e||e.code!==i.SHOW_MESSAGE||![4,5].includes(e.parameters.length)?!1:typeof e.parameters[0]=="string"&&typeof e.parameters[1]=="number"&&typeof e.parameters[2]=="number"&&typeof e.parameters[3]=="number",Z=(e,t)=>({head:$(e,t),bodys:d(i.SHOW_MESSAGE_BODY,e,t+1)}),Q="ScrollTextHeader invalid command",b=(e,t)=>{const n=e[t];if(p(i.SHOW_SCROLLING_TEXT,n))return n;const r={headCode:i.SHOW_SCROLLING_TEXT,bodyCode:i.SHOW_SCROLLING_TEXT_BODY,index:t};throw new Error(Q,{cause:r})},ee=(e,t)=>({head:b(e,t),bodys:d(i.SHOW_SCROLLING_TEXT_BODY,e,t+1)}),te=(e,t=`
`)=>e.map(n=>n.parameters[0]).join(t);class S{constructor(t,n){this.header=t,this.bodies=n}getBodyText(t=`
`){return te(this.getExpandedBodies(),t)}jopinHedderAndBody(){return[this.header,...this.bodies]}joinCommandBodies(){return this.getExpandedBodies()}}class g extends S{constructor(t,n,r){super(n,r),this.bodyCode=t}getExpandedBodies(){return this.bodies}normalizedCommands(){const t={...this.header,code:this.header.code,indent:this.header.indent,parameters:[...this.header.parameters]};return this.bodies.length===0?[t]:[t,this.mergedBody()]}mergedBody(){return{code:this.bodyCode,indent:this.header.indent,parameters:[this.getBodyText()]}}}class _ extends S{getExpandedBodies(){return[this.header,...this.bodies]}mergedBody(){return{code:this.header.code,indent:this.header.indent,parameters:[this.getBodyText()]}}normalizedCommands(){return[this.mergedBody()]}}const ne="選択肢ヘルプ",re=e=>e.parameters[0]===ne,ae=(e,t=[])=>new g(401,e,t),se=(e,t=[])=>new g(405,e,t),ce=(e,t=[])=>re(e)?new g(408,e,t):new _(e,t),oe=(e,t=[])=>new _(e,t),N=(e,t,n)=>{const r=Z(e,t),o=ae(r.head,r.bodys);return n(o)},I=(e,t,n)=>{const r=ee(e,t),o=se(r.head,r.bodys);return n(o)},f=(e,t,n)=>{const r=q(e,t),o=ce(r.head,r.bodys);return n(o)},M=(e,t,n)=>{const r=K(e,t),o=oe(r.head,r.bodys);return n(o)},ie=(e,t,n)=>{const r=e[t];switch(r.code){case i.SHOW_MESSAGE:return N(e,t,n.showMessage);case i.SHOW_SCROLLING_TEXT:return I(e,t,n.showScrollingText);case i.COMMENT:return f(e,t,n.comment);case i.SCRIPT_EVAL:return M(e,t,n.script);case i.SHOW_CHOICES:return n.showChoices(r,t,e);case i.SHOW_CHOICES_ITEM:return n.choiceWhen(r,t,e);case i.CHANGE_NAME:return n.changeName(r,t,e);case i.CHANGE_PROFILE:return n.changeProfile(r,t,e);case i.CHANGE_NICKNAME:return n.changeNickname(r,t,e);default:return n.other(r,t,e)}},De=(e,t)=>e.map((n,r,o)=>ie(o,r,t)),s=(e,t,n,r,o)=>r?r(e,t,n):o(e,t,n),me=(e,t)=>e.map((n,r)=>ue(e,r,t)),ue=(e,t,n)=>{const r=e[t];switch(r.code){case a.SHOW_MESSAGE:return n.showMessage?N(e,t,n.showMessage):n.other(r,t,e);case a.SHOW_MESSAGE_BODY:return s(r,t,e,n.showMessageBody,n.other);case a.SHOW_SCROLLING_TEXT:return n.showScrollingText?I(e,t,n.showScrollingText):n.other(r,t,e);case a.SHOW_SCROLLING_TEXT_BODY:return s(r,t,e,n.showScrollingTextBody,n.other);case a.SHOW_CHOICES:return s(r,t,e,n.showChoices,n.other);case a.SHOW_CHOICES_ITEM:return s(r,t,e,n.choiceWhen,n.other);case a.COMMENT:return n.comment?f(e,t,n.comment):n.other(r,t,e);case a.COMMENT_BODY:return s(r,t,e,n.commentBody,n.other);case a.SCRIPT_EVAL:return n.script?M(e,t,n.script):n.other(r,t,e);case a.SCRIPT_EVAL_BODY:return s(r,t,e,n.scriptBody,n.other);case a.CONDITIONAL_BRANCH:return s(r,t,e,n.conditionalBranch,n.other);case a.CONTROL_SWITCHES:return s(r,t,e,n.controlSwitch,n.other);case a.CONTROL_VARIABLES:return s(r,t,e,n.controlVariable,n.other);case a.CONTROL_SELF_SWITCH:return s(r,t,e,n.controlSelfSwitch,n.other);case a.CONTROL_TIMER:return s(r,t,e,n.controlTimer,n.other);case a.COMMON_EVENT:return s(r,t,e,n.commonEvent,n.other);case a.CHANGE_SAVE_ACCESS:return s(r,t,e,n.changeSaveAccess,n.other);case a.CHANGE_MENU_ACCESS:return s(r,t,e,n.changeMenuAccess,n.other);case a.CHANGE_ENCOUNTER:return s(r,t,e,n.changeEncounter,n.other);case a.CHANGE_FORMATION_ACCESS:return s(r,t,e,n.changeFormationAccess,n.other);case a.CHANGE_NAME:return s(r,t,e,n.changeName,n.other);case a.CHANGE_PROFILE:return s(r,t,e,n.changeProfile,n.other);case a.CHANGE_NICKNAME:return s(r,t,e,n.changeNickname,n.other);case a.CHANGE_ACTOR_IMAGES:return s(r,t,e,n.changeActorImages,n.other);case a.CHANGE_VEHICLE_IMAGE:return s(r,t,e,n.changeVehicleImage,n.other);case a.CHANGE_BATTLE_BGM:return s(r,t,e,n.changeBattleBGM,n.other);case a.CHANGE_VICTORY_ME:return s(r,t,e,n.changeVictoryME,n.other);case a.CHANGE_DEFEAT_ME:return s(r,t,e,n.changeDefeatME,n.other);case a.PLAY_BGM:return s(r,t,e,n.playBGM,n.other);case a.FADEOUT_BGM:return s(r,t,e,n.fadeOutBGM,n.other);case a.PLAY_SE:return s(r,t,e,n.playSE,n.other);case a.STOP_SE:return s(r,t,e,n.stopSE,n.other);case a.PLAY_ME:return s(r,t,e,n.playME,n.other);case a.LABEL:return s(r,t,e,n.label,n.other);case a.LABEL_JUMP:return s(r,t,e,n.labelJump,n.other);case a.CHANGE_WINDOW_COLOR:return s(r,t,e,n.changeWindowColor,n.other);case a.TINT_SCREEN:return s(r,t,e,n.tintScreen,n.other);case a.FLASH_SCREEN:return s(r,t,e,n.flashScreen,n.other);case a.SHAKE_SCREEN:return s(r,t,e,n.shakeScreen,n.other);case a.SHOW_PICTURE:return s(r,t,e,n.showPicture,n.other);case a.MOVE_PICTURE:return s(r,t,e,n.movePicture,n.other);case a.ROTATE_PICTURE:return s(r,t,e,n.rotatePicture,n.other);case a.TINT_PICTURE:return s(r,t,e,n.tintPicture,n.other);case a.ERASE_PICTURE:return s(r,t,e,n.erasePicture,n.other);case a.BATTLE_PROCESSING:return s(r,t,e,n.battleProcessing,n.other);case a.WAIT:return s(r,t,e,n.wait,n.other);case a.GAME_OVER:return s(r,t,e,n.gameover,n.other);case a.CHANGE_PARALLAX:return s(r,t,e,n.changeParallax,n.other);case a.CHANGE_BATTLE_BACKGROUND:return s(r,t,e,n.changeBattleBackground,n.other);case a.PLAY_MOVIE:return s(r,t,e,n.playMovie,n.other);case a.CHANGE_TRANSPARENCY:return s(r,t,e,n.changeTransparency,n.other);case a.SET_WEATHER_EFFECT:return s(r,t,e,n.setWeatherEffects,n.other);case a.CHANGE_GOLD:return s(r,t,e,n.changeGold,n.other);case a.SHOW_ANIMATION:return s(r,t,e,n.showAnimation,n.other);case a.TRANSFER_PLAYER:return s(r,t,e,n.transferPlayer,n.other);case a.SET_VEHICLE_LOCATION:return s(r,t,e,n.setVehicleLocation,n.other);case a.SET_EVENT_LOCATION:return s(r,t,e,n.setEventLocation,n.other);default:return n.other(r,t,e)}},ke={commentBody:()=>[],showMessageBody:()=>[],scriptBody:()=>[],showScrollingTextBody:()=>[],showMessage:e=>e.normalizedCommands(),showScrollingText:e=>e.normalizedCommands(),comment:e=>e.normalizedCommands(),script:e=>e.normalizedCommands(),other:e=>[e]},A=e=>me(e,ke),Ve=e=>!!e,We=(e,t,n)=>({data:e,eventId:t,pageIndex:n}),de=(e,t,n)=>e.list.map(r=>({data:r,eventId:n.id,pageIndex:t})),O=(e,t)=>e.pages.map((n,r)=>t(n,r,e)),v=(e,t)=>e.events.filter(Ve).map(n=>O(n,t)),Fe=(e,t)=>v(e,t).flat(2),Ye=(e,t)=>e.map(n=>O(n,t)),ze=(e,t)=>e.map((n,r)=>t(n,r,n)),xe=e=>v(e,de).flat(2),R=(e,t)=>{const n=t(e.list);return{...e,list:n}},G=(e,t)=>({...e,pages:e.pages.map(n=>R(n,t))}),le=(e,t)=>({...e,events:e.events.map(n=>n?G(n,t):null)}),Ee=(e,t)=>e.map(n=>R(n,t)),he=(e,t)=>e.map(n=>G(n,t)),Ue=e=>le(e,t=>A(t).flat()),ye=e=>Ee(e,t=>A(t).flat()),Xe=e=>he(e,t=>A(t).flat()),H=(e,t)=>t.includes(e.code),je=e=>H(e,qe),qe=[a.PLAY_BGM,a.PLAY_BGS,a.PLAY_ME,a.PLAY_SE,a.CHANGE_BATTLE_BGM,a.CHANGE_VICTORY_ME,a.CHANGE_DEFEAT_ME,a.CHANGE_VEHICLE_BGM],Ke=e=>H(e,$e),$e=[a.SHOW_PICTURE,a.CHANGE_ACTOR_IMAGES,a.CHANGE_VEHICLE_IMAGE,a.CHANGE_PARALLAX,a.CHANGE_BATTLE_BACKGROUND],Je=(e,t)=>({code:e.code,paramIndex:t,value:e.parameters[t]}),Ze=(e,t)=>({code:e.code,paramIndex:t,value:e.parameters[t]}),Qe=(e,t)=>({code:e.code,paramIndex:t,value:e.parameters[t]}),be=1,et={[a.CHANGE_ENEMY_HP]:2,[a.CHANGE_ENEMY_MP]:2,[a.TRANSFER_PLAYER]:0,[a.SET_VEHICLE_LOCATION]:1,[a.GET_LOCATION_INFO]:2,[a.BATTLE_PROCESSING]:0},tt={[a.CHANGE_ENEMY_HP]:[4],[a.CHANGE_ENEMY_MP]:[4],[a.TRANSFER_PLAYER]:[1,2,3],[a.SET_VEHICLE_LOCATION]:[2,3,4],[a.GET_LOCATION_INFO]:[0],[a.BATTLE_PROCESSING]:[1]},nt=e=>e.filter(Ce).flatMap(pe),pe=e=>{const t=tt[e.code];if(t===void 0)throw new Error(`code${e.code} is not supported`);return t.map(n=>({eventCode:e.code,index:n,variableId:e.parameters[n]}))},Ce=e=>{const t=et[e.code];return t===void 0?!1:e.parameters[t]===be},L=(e,t)=>e.parameters[3]===t&&e.parameters[3]===t,rt=e=>L(e,0),at=e=>L(e,1),B=(e,t)=>`<${e}:${t}>`,l=()=>/<([^<>:]+):([^>]*)>/g,st=(e,t)=>P(e.note,(n,r)=>t(n,r,e)),ct=e=>P(e,(t,n)=>[t,n]),P=(e,t)=>{const n=l(),r=[];let o;for(;(o=n.exec(e))!==null;)r.push(t(o[1],o[2]));return r},ot=(e,t)=>e.replace(l(),(n,r,o)=>{const m=t(r,o);return B(r,m)}),it=(e,t)=>{const n=l();let r;for(;(r=n.exec(e))!==null;)if(r[1]===t)return r[2]},mt=(e,t,n)=>{const r=l();return e.replace(r,(o,m)=>m===t?B(m,n):o)},ut=e=>`code:${e}`,dt="N",lt="V",w=(e,t)=>`\\${e}[${t}]`,ge=e=>w(dt,e.id),Et=e=>e.map(t=>({controlChar:ge(t),text:t.name})),ht=e=>e.variables.map((t,n)=>({text:t||"",controlChar:w(lt,n)})).filter(t=>t.text!==""),pt=new Set(["px","py","x","y","v","n","p","g","c","i","fs"]),Ct=(e,t=pt)=>{const n=/\\([A-Za-z]+)\[(\d+)]/g,r=[];let o;for(;(o=n.exec(e))!==null;){const m=o[1].toLowerCase(),Te=parseInt(o[2],10);t.has(m)&&r.push({char:o[1],id:Te})}return r},Ae=(e,t,n)=>t.map(r=>n(r,e[r],e)),gt=(e,t,n)=>Ae(e,t,n);exports.BaseEventCommandGroup=S;exports.CHOICE_HELP_TEXT=ne;exports.CombinedEventCommandGroup=_;exports.ERROR_COMMAND_MESSAGE=X;exports.ERROR_COMMAND_SCRIPT=Pe;exports.ERROR_INVALID_HEAD=j;exports.ERROR_MESSAGE=Q;exports.SimpleEventCommandGroup=g;exports.callHandler=s;exports.codeInfoText=ut;exports.codeTest=p;exports.collectMapEvents=Fe;exports.commandParamIs=L;exports.constructActor=_e;exports.constructArmor=Ie;exports.constructClass=Me;exports.constructDamage=h;exports.constructEnemy=Ne;exports.constructItem=Oe;exports.constructParamArray=u;exports.constructSkill=ve;exports.constructState=Re;exports.constructWeapon=fe;exports.createAdvanced=U;exports.createAudio=c;exports.createAudioCommand=Le;exports.createBasicTerms=F;exports.createCommandContext=de;exports.createCommandsArray=z;exports.createCommentGroup=ce;exports.createCondtion=D;exports.createControlCharFormat=w;exports.createEventContext=We;exports.createEventPage=V;exports.createMap=Ge;exports.createMapEvent=He;exports.createMapEventImage=k;exports.createMessageGroup=ae;exports.createMessages=x;exports.createNoteEntity=B;exports.createParamNamesArray=Y;exports.createScriptGroup=oe;exports.createScrlloingTextGroup=se;exports.createSystemData=Be;exports.createSystemSoundsArray=y;exports.createTerms=W;exports.createVehicle=E;exports.extractVariableInfos=nt;exports.fromActor=ge;exports.fromActors=Et;exports.fromSystem=ht;exports.gatherEventCommandContext=xe;exports.getControlChars=Ct;exports.getNoteValue=it;exports.handleGroupComment=f;exports.handleGroupMessage=N;exports.handleGroupScript=M;exports.handleGroupScrollingText=I;exports.handlerDispatch=ie;exports.isAudioCommand=je;exports.isBodyParams=C;exports.isChoiceHelp=re;exports.isHeadCommand=we;exports.isImageCommand=Ke;exports.isMessageHeader=J;exports.isVariableDesignationCommand=Ce;exports.joinCommandBodies=te;exports.makeRegex=l;exports.mapTextCommand=De;exports.mappingCommand=ue;exports.mappingCommandList=me;exports.matchesEventCommand=H;exports.normalizedCommands=A;exports.normalizedCommonEvents=ye;exports.normalizedMapData=Ue;exports.normalizedTroops=Xe;exports.operandIsConstants=rt;exports.operandIsVariable=at;exports.pickCommandParamAudio=Qe;exports.pickCommandParamNumber=Ze;exports.pickCommandParamString=Je;exports.pickCommands=d;exports.pickComments=q;exports.pickHead=T;exports.pickMessageHeader=$;exports.pickMessageWithHead=Z;exports.pickPropertys=Ae;exports.pickScripts=K;exports.pickScrollText=ee;exports.pickScrollTextHeader=b;exports.pickString=gt;exports.processCommonEvents=ze;exports.processEventPages=O;exports.processMapEvents=v;exports.processTroopEvents=Ye;exports.readNote=ct;exports.readNoteEx=P;exports.readNoteObject=st;exports.replaceCommonEvents=Ee;exports.replaceEventCommands=R;exports.replaceMapEvents=le;exports.replaceNote=ot;exports.replacePages=G;exports.replaceTroops=he;exports.setNoteValue=mt;exports.variableReference=pe;
//# sourceMappingURL=rpg-data-tools.cjs.js.map
